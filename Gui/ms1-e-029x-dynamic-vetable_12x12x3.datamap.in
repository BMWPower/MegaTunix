[global]
description=Object data map for the combined VEtables tab
_tab_name=_VE Tables
id_prefix=VE_
ellipsize=TRUE
groups=defaults
bind_to_list=ve_12x12
post_functions=enable_3d_buttons_pf

#----- Groups ----------------------------------------------------------------

[defaults]
keys=page,size,raw_lower,raw_upper,dl_type,handler
page=1
size=_U08_
raw_lower=0
raw_upper=255
dl_type=_IMMEDIATE_
handler=_GENERIC_

[x_parent_table_1]
keys=post_functions_with_arg,table_num,axis,tooltip
post_functions_with_arg=table_builder
table_num=0
axis=_X_
_tooltip=The RPM bins in combination with the LOAD bins on the left side of the VEtable define the vertexes (points on the VE map).  The ECU will interpolate between vertexes providing a smooth transition between points on the VEmap. The 3D view shows this graphically.  NOTE: the ECU does NOT extrapolate beyond the edge of the table. The values are clamped at the borders.  Editing is accomplished by either +/-, PgUp/PgDn, or by typing in a value over the existing value.  The value will turn red during an edit and WILL NOT BE SENT until you hit enter.  Hitting escape will cancel an edit and return to the previous value.

[y_parent_table_1]
keys=post_functions_with_arg,table_num,axis,tooltip
post_functions_with_arg=table_builder
table_num=0
axis=_Y_
_tooltip=The LOAD (whether they be MAP or TPS) bins in combination with the RPM bins on the bottom of the VEtable define the vertexes (points on the VE map).  The ECU will interpolate between vertexes providing a smooth transition between vertexes on the Map.  The 3D view shows this graphically.  NOTE: The ECU does NOT extrapolate beyond the edge of the table. The values are clamped at the borders.  Editing is accomplished by either +/-, PgUp/PgDn, or by typing in a value over the existing value.  The value will turn red during an edit and WILL NOT BE SENT until you hit enter.  Hitting escape will cancel an edit and return to the previous value.

[z_parent_table_1]
keys=rescaler_frame,post_functions_with_arg,table_num,axis,tooltip
rescaler_frame=VE12_rescale_frame_1
post_functions_with_arg=table_builder
table_num=0
axis=_Z_
_tooltip=The VE Entries control how much fuel is injected into the engine. They refer to Volumetric efficiency of the engine.  If the Req_Fuel variable is scaled appropriately the engine should be at 100% VE at max torque.   These entries are all relative and can be scaled upwards for a low Req_Fuel or downwards with a high Req_Fuel.  Editing is accomplished by either +/-, PgUp/PgDn, or by typing in a value over the existing value.  The value will turn red during an edit and WILL NOT BE SENT until you hit enter.  Hitting escape will cancel an edit and return to the previous value.

[x_parent_table_2]
keys=post_functions_with_arg,table_num,axis,tooltip
post_functions_with_arg=table_builder
table_num=1
axis=_X_
_tooltip=The RPM bins in combination with the LOAD bins on the left side of the VEtable define the vertexes (points on the VE map).  The ECU will interpolate between vertexes providing a smooth transition between points on the VEmap. The 3D view shows this graphically.  NOTE: the ECU does NOT extrapolate beyond the edge of the table. The values are clamped at the borders.  Editing is accomplished by either +/-, PgUp/PgDn, or by typing in a value over the existing value.  The value will turn red during an edit and WILL NOT BE SENT until you hit enter.  Hitting escape will cancel an edit and return to the previous value.

[y_parent_table_2]
keys=post_functions_with_arg,table_num,axis,tooltip
post_functions_with_arg=table_builder
table_num=1
axis=_Y_
_tooltip=The LOAD (whether they be MAP or TPS) bins in combination with the RPM bins on the bottom of the VEtable define the vertexes (points on the VE map).  The ECU will interpolate between vertexes providing a smooth transition between vertexes on the Map.  The 3D view shows this graphically.  NOTE: The ECU does NOT extrapolate beyond the edge of the table. The values are clamped at the borders.  Editing is accomplished by either +/-, PgUp/PgDn, or by typing in a value over the existing value.  The value will turn red during an edit and WILL NOT BE SENT until you hit enter.  Hitting escape will cancel an edit and return to the previous value.

[z_parent_table_2]
keys=rescaler_frame,post_functions_with_arg,table_num,axis,tooltip
rescaler_frame=VE12_rescale_frame_2
post_functions_with_arg=table_builder
table_num=1
axis=_Z_
_tooltip=The VE Entries control how much fuel is injected into the engine. They refer to Volumetric efficiency of the engine.  If the Req_Fuel variable is scaled appropriately the engine should be at 100% VE at max torque.   These entries are all relative and can be scaled upwards for a low Req_Fuel or downwards with a high Req_Fuel.  Editing is accomplished by either +/-, PgUp/PgDn, or by typing in a value over the existing value.  The value will turn red during an edit and WILL NOT BE SENT until you hit enter.  Hitting escape will cancel an edit and return to the previous value.

[x_parent_table_3]
keys=post_functions_with_arg,table_num,axis,tooltip
post_functions_with_arg=table_builder
table_num=2
axis=_X_
_tooltip=The RPM bins in combination with the LOAD bins on the left side of the VEtable define the vertexes (points on the VE map).  The ECU will interpolate between vertexes providing a smooth transition between points on the VEmap. The 3D view shows this graphically.  NOTE: the ECU does NOT extrapolate beyond the edge of the table. The values are clamped at the borders.  Editing is accomplished by either +/-, PgUp/PgDn, or by typing in a value over the existing value.  The value will turn red during an edit and WILL NOT BE SENT until you hit enter.  Hitting escape will cancel an edit and return to the previous value.

[y_parent_table_3]
keys=post_functions_with_arg,table_num,axis,tooltip
post_functions_with_arg=table_builder
table_num=2
axis=_Y_
_tooltip=The LOAD (whether they be MAP or TPS) bins in combination with the RPM bins on the bottom of the VEtable define the vertexes (points on the VE map).  The ECU will interpolate between vertexes providing a smooth transition between vertexes on the Map.  The 3D view shows this graphically.  NOTE: The ECU does NOT extrapolate beyond the edge of the table. The values are clamped at the borders.  Editing is accomplished by either +/-, PgUp/PgDn, or by typing in a value over the existing value.  The value will turn red during an edit and WILL NOT BE SENT until you hit enter.  Hitting escape will cancel an edit and return to the previous value.

[z_parent_table_3]
keys=rescaler_frame,post_functions_with_arg,table_num,axis,tooltip
rescaler_frame=VE12_rescale_frame_3
post_functions_with_arg=table_builder
table_num=2
axis=_Z_
_tooltip=The VE Entries control how much fuel is injected into the engine. They refer to Volumetric efficiency of the engine.  If the Req_Fuel variable is scaled appropriately the engine should be at 100% VE at max torque.   These entries are all relative and can be scaled upwards for a low Req_Fuel or downwards with a high Req_Fuel.  Editing is accomplished by either +/-, PgUp/PgDn, or by typing in a value over the existing value.  The value will turn red during an edit and WILL NOT BE SENT until you hit enter.  Hitting escape will cancel an edit and return to the previous value.

#----- Labels ----------------------------------------------------------------

[notebook_tab_1_label]
keys=set_label
set_label=VE-Table 1

[notebook_tab_2_label]
keys=bind_to_list,match_type,set_label
bind_to_list=dual_table,second_fuel
match_type=_OR_
set_label=VE-Table 2 (DT)

[notebook_tab_3_label]
keys=bind_to_list,match_type,set_label
bind_to_list=fuel_switching,seq_siamese
match_type=_OR_
set_label=VE-Table 3

[topframe_title]
keys=set_label
set_label=MS1-Extra 12x12 Fuel VE Tables

[x_axis_frame_label_1]
keys=set_label
set_label=RPM Bins

[y_axis_frame_label_1]
keys=set_label,label,alt_label,depend_on
set_label=MAP Bins
label=MAP Bins
alt_label=TPS Bins
depend_on=alpha_n_button
alpha_n_button=_ECU_EMB_BIT_,_U08_,1,184,4,2,1

[y_axis_units_label_1]                                                          
keys=set_label,label,alt_label,depend_on
set_label=kPa
label=kPa
alt_label=TPSADC
depend_on=alpha_n_button                                                        
alpha_n_button=_ECU_EMB_BIT_,_U08_,1,184,4,2,1

[z_axis_frame_label_1]
keys=set_label
set_label=Volumetric Efficiency (%)

[x_axis_frame_label_2]
keys=set_label
set_label=RPM Bins

[y_axis_frame_label_2]
keys=set_label,label,alt_label,depend_on
set_label=MAP Bins
label=MAP Bins
alt_label=TPS Bins
depend_on=alpha_n_button
alpha_n_button=_ECU_EMB_BIT_,_U08_,2,184,4,2,1

[y_axis_units_label_2]                                                          
keys=set_label,label,alt_label,depend_on
set_label=kPa
label=kPa
alt_label=TPSADC
depend_on=alpha_n_button
alpha_n_button=_ECU_EMB_BIT_,_U08_,2,184,4,2,1

[z_axis_frame_label_2]
keys=set_label
set_label=Volumetric Efficiency (%)

[x_axis_frame_label_3]
keys=set_label
set_label=RPM Bins

[y_axis_frame_label_3]
keys=set_label,label,alt_label,depend_on
set_label=MAP Bins
label=MAP Bins
alt_label=TPS Bins
depend_on=alpha_n_button
alpha_n_button=_ECU_EMB_BIT_,_U08_,1,184,4,2,1

[y_axis_units_label_3]                                                          
keys=set_label,label,alt_label,depend_on
set_label=kPa
label=kPa
alt_label=TPSADC
depend_on=alpha_n_button
alpha_n_button=_ECU_EMB_BIT_,_U08_,1,184,4,2,1

[z_axis_frame_label_3]
keys=set_label
set_label=Volumetric Efficiency (%)

#----- Buttons ---------------------------------------------------------------

[get_data_button]
keys=handler,bind_to_list,tooltip
handler=_READ_VE_CONST_
bind_to_list=get_data_buttons
_tooltip=This button retrieves the VE/Constants block of data (all pages) and updates all controls with the current values.

[burn_data_button]
keys=handler,bind_to_list,tooltip
handler=_BURN_FLASH_
bind_to_list=burners
_tooltip=This button will turn red when a value is changed in the ECU's RAM but it needs to be burnt to flash for permanent storage.  By clicking this it will burn the ram to flash and the button will turn back to black.

[tracking_checkbutton_1]
keys=handler,table_num
handler=_TRACKING_FOCUS_
table_num=0

[tracking_checkbutton_2]
keys=handler,table_num
handler=_TRACKING_FOCUS_
table_num=1

[tracking_checkbutton_3]
keys=handler,table_num
handler=_TRACKING_FOCUS_
table_num=2

[export_button_1]
keys=handler,table_num
handler=_EXPORT_SINGLE_TABLE_
table_num=0

[export_button_2]
keys=handler,table_num
handler=_EXPORT_SINGLE_TABLE_
table_num=1

[export_button_3]
keys=handler,table_num
handler=_EXPORT_SINGLE_TABLE_
table_num=2

[import_button_1]
keys=handler,table_num
handler=_IMPORT_SINGLE_TABLE_
table_num=0

[import_button_2]
keys=handler,table_num
handler=_IMPORT_SINGLE_TABLE_
table_num=1

[import_button_3]
keys=handler,table_num
handler=_IMPORT_SINGLE_TABLE_
table_num=2

[3d_view_button_1]
keys=table_num,tooltip,bind_to_list
table_num=0
bind_to_list=3d_buttons
_tooltip=This pops up a 3 dimensional view of the current VE-Table.  Editing of the table in the 3D view is supported with the +/- and PgUp/PgDn keys (fine/coarse edit) and the arrows navigate. A Red dot shows the current edit position as does the indicators on the right side of the window beneath the buttons.  A left mouse button holddown and drag of the mouse in the 3D view will rotate the display.  Using the middle mouse button will strafe (slide) and the right mouse button will zoom.

[3d_view_button_2]
keys=table_num,tooltip,bind_to_list
table_num=1
bind_to_list=3d_buttons
_tooltip=This pops up a 3 dimensional view of the current VE-Table.  Editing of the table in the 3D view is supported with the +/- and PgUp/PgDn keys (fine/coarse edit) and the arrows navigate. A Red dot shows the current edit position as does the indicators on the right side of the window beneath the buttons.  A left mouse button holddown and drag of the mouse in the 3D view will rotate the display.  Using the middle mouse button will strafe (slide) and the right mouse button will zoom.

[3d_view_button_3]
keys=table_num,tooltip,bind_to_list
table_num=2
bind_to_list=3d_buttons
_tooltip=This pops up a 3 dimensional view of the current VE-Table.  Editing of the table in the 3D view is supported with the +/- and PgUp/PgDn keys (fine/coarse edit) and the arrows navigate. A Red dot shows the current edit position as does the indicators on the right side of the window beneath the buttons.  A left mouse button holddown and drag of the mouse in the 3D view will rotate the display.  Using the middle mouse button will strafe (slide) and the right mouse button will zoom.

[rescale_button_1]
keys=handler,data
handler=_RESCALE_TABLE_
data=VE12_rescale_entry_1,VE12_rescale_combo_1

[rescale_button_2]
keys=handler,data
handler=_RESCALE_TABLE_
data=VE12_rescale_entry_2,VE12_rescale_combo_2

[rescale_button_3]
keys=handler,data
handler=_RESCALE_TABLE_
data=VE12_rescale_entry_3,VE12_rescale_combo_3

[reqfuel_rescale_button_1]
keys=handler,data,table_num,applicable_tables
table_num=0
applicable_tables=0,2
handler=_REQFUEL_RESCALE_TABLE_
data=VE12_new_reqfuel_entry_1

[reqfuel_rescale_button_2]
keys=handler,data,table_num,applicable_tables
table_num=1
applicable_tables=1
handler=_REQFUEL_RESCALE_TABLE_
data=VE12_new_reqfuel_entry_2

[reqfuel_rescale_button_3]
keys=handler,data,table_num,applicable_tables
table_num=2
applicable_tables=0,2
handler=_REQFUEL_RESCALE_TABLE_
data=VE12_new_reqfuel_entry_2

#----- Spinners -------------------------------------------------------------

[curr_reqfuel_entry_1]
keys=offset,table_num,dl_type,handler,bind_to_list,fromecu_complex,fromecu_conv_expr,precision
offset=148
precision=1
table_num=0
dl_type=_IGNORED_
handler=_LOCKED_REQ_FUEL_
bind_to_list=interdep_0_ctrl
fromecu_complex=TRUE
fromecu_conv_expr=(reqfuel*((injectors+1)/(divider*((alternate+1)/((dtmode*alternate)+1)))))/10
expr_symbols=reqfuel,injectors,divider,alternate,dtmode
expr_types=_ECU_VAR_,_ECU_EMB_BIT_,_ECU_VAR_,_ECU_EMB_BIT_,_ECU_EMB_BIT_
reqfuel_page=1
reqfuel_offset=148
injectors_page=1
injectors_offset=183
injectors_bitmask=240
divider_page=1
divider_offset=149
alternate_page=1
alternate_offset=150
alternate_bitmask=1
dtmode_page=0
dtmode_offset=33
dtmode_bitmask=16

[curr_reqfuel_entry_2]
keys=page,offset,table_num,dl_type,handler,bind_to_list,fromecu_complex,fromecu_conv_expr,precision
page=2
offset=148
table_num=1
dl_type=_IGNORED_
handler=_LOCKED_REQ_FUEL_
bind_to_list=interdep_1_ctrl
fromecu_complex=TRUE
precision=1
fromecu_conv_expr=(reqfuel*((injectors+1)/divider))/10
expr_symbols=reqfuel,injectors,divider
expr_types=_ECU_VAR_,_ECU_EMB_BIT_,_ECU_VAR_
reqfuel_page=2
reqfuel_offset=148
injectors_page=2
injectors_offset=183
injectors_bitmask=240
divider_page=2
divider_offset=149

[curr_reqfuel_entry_3]
keys=offset,table_num,dl_type,handler,bind_to_list,fromecu_complex,fromecu_conv_expr,precision
offset=148
table_num=0
dl_type=_IGNORED_
handler=_LOCKED_REQ_FUEL_
bind_to_list=interdep_0_ctrl
fromecu_complex=TRUE
precision=1
fromecu_conv_expr=(reqfuel*((injectors+1)/(divider*((alternate+1)/((dtmode*alternate)+1)))))/10
expr_symbols=reqfuel,injectors,divider,alternate,dtmode
expr_types=_ECU_VAR_,_ECU_EMB_BIT_,_ECU_VAR_,_ECU_EMB_BIT_,_ECU_EMB_BIT_
reqfuel_page=1
reqfuel_offset=148
injectors_page=1
injectors_offset=183
injectors_bitmask=240
divider_page=1
divider_offset=149
alternate_page=1
alternate_offset=150
alternate_bitmask=1
dtmode_page=0
dtmode_offset=33
dtmode_bitmask=16

#----- Widgets --------------------------------------------------------------

[topframe]
keys=tab_ident,sub-notebook
tab_ident=_VETABLES_TAB_
sub-notebook=VE12_table_notebook

[table_notebook]
keys=set_tab_labels
set_tab_labels=VE Table 1, VE Table 2(DT),VE Table 3

[top_vbox_1]
keys=table_num,visible_functions
table_num=0
visible_functions=draw_ve_marker:13,update_tab_gauges:16

[top_vbox_2]
keys=bind_to_list,table_num,visible_functions
bind_to_list=dt_controls
table_num=1
visible_functions=draw_ve_marker:13,update_tab_gauges:16

[top_vbox_3]
keys=table_num,,visible_functions
table_num=2
visible_functions=draw_ve_marker:13,update_tab_gauges:16

[reqfuel_rescale_frame_1]
keys=show_widget
show_widget=TRUE

[reqfuel_rescale_frame_2]
keys=show_widget
show_widget=TRUE

[reqfuel_rescale_frame_3]
keys=show_widget
show_widget=TRUE

#----- Gauges --------------------------------------------------------------

[gaugeframe1_1]
keys=post_functions_with_arg,gaugexml,datasource,table_num
table_num=0
post_functions_with_arg=create_gauge
gaugexml=SportComp/AM_SportComp_RPM_Gauge.xml
datasource=rpm

[gaugeframe2_1]
keys=post_functions_with_arg,gaugexml,datasource,table_num
table_num=0
post_functions_with_arg=create_gauge
gaugexml=SportComp/AM_SportComp_TPSpercent_Gauge.xml
datasource=tpspercent

[gaugeframe3_1]
keys=post_functions_with_arg,gaugexml,datasource,table_num
table_num=0
post_functions_with_arg=create_gauge
gaugexml=SportComp/AM_SportComp_MAP_Gauge.xml
datasource=mapkpa

[gaugeframe4_1]
keys=post_functions_with_arg,gaugexml,datasource,table_num
table_num=0
post_functions_with_arg=create_gauge
gaugexml=SportComp/AM_SportComp_EGOcorr_Gauge.xml
datasource=egocorr

[gaugeframe5_1]
keys=post_functions_with_arg,gaugexml,datasource,table_num
table_num=0
post_functions_with_arg=create_gauge
gaugexml=SportComp/AM_SportComp_AFR_Gauge.xml
datasource=afr1

[gaugeframe1_2]
keys=post_functions_with_arg,gaugexml,datasource,table_num
table_num=1
post_functions_with_arg=create_gauge
gaugexml=SportComp/AM_SportComp_RPM_Gauge.xml
datasource=rpm

[gaugeframe2_2]
keys=post_functions_with_arg,gaugexml,datasource,table_num
table_num=1
post_functions_with_arg=create_gauge
gaugexml=SportComp/AM_SportComp_TPSpercent_Gauge.xml
datasource=tpspercent

[gaugeframe3_2]
keys=post_functions_with_arg,gaugexml,datasource,table_num
table_num=1
post_functions_with_arg=create_gauge
gaugexml=SportComp/AM_SportComp_MAP_Gauge.xml
datasource=mapkpa

[gaugeframe4_2]
keys=post_functions_with_arg,gaugexml,datasource,table_num
table_num=1
post_functions_with_arg=create_gauge
gaugexml=SportComp/AM_SportComp_EGOcorr_Gauge.xml
datasource=egocorr

[gaugeframe5_2]
keys=post_functions_with_arg,gaugexml,datasource,table_num
table_num=1
post_functions_with_arg=create_gauge
gaugexml=SportComp/AM_SportComp_AFR_Gauge.xml
datasource=afr2

[gaugeframe1_3]
keys=post_functions_with_arg,gaugexml,datasource,table_num
table_num=2
post_functions_with_arg=create_gauge
gaugexml=SportComp/AM_SportComp_RPM_Gauge.xml
datasource=rpm

[gaugeframe2_3]
keys=post_functions_with_arg,gaugexml,datasource,table_num
table_num=2
post_functions_with_arg=create_gauge
gaugexml=SportComp/AM_SportComp_TPSpercent_Gauge.xml
datasource=tpspercent

[gaugeframe3_3]
keys=post_functions_with_arg,gaugexml,datasource,table_num
table_num=2
post_functions_with_arg=create_gauge
gaugexml=SportComp/AM_SportComp_MAP_Gauge.xml
datasource=mapkpa

[gaugeframe4_3]
keys=post_functions_with_arg,gaugexml,datasource,table_num
table_num=2
post_functions_with_arg=create_gauge
gaugexml=SportComp/AM_SportComp_EGOcorr_Gauge.xml
datasource=egocorr

[gaugeframe5_3]
keys=post_functions_with_arg,gaugexml,datasource,table_num
table_num=2
post_functions_with_arg=create_gauge
gaugexml=SportComp/AM_SportComp_AFR_Gauge.xml
datasource=afr2

#----- Rescale Entries ------------------------------------------------------

[rescale_entry_1]
keys=table_num
table_num=0

[rescale_entry_2]
keys=table_num
table_num=1

[rescale_entry_3]
keys=table_num
table_num=2

#----- Rescale Combos ------------------------------------------------------

[rescale_combo_1]
keys=table_num,post_functions_with_arg
table_num=0
post_functions_with_arg=lock_entry

[rescale_combo_2]
keys=table_num,post_functions_with_arg
table_num=1
post_functions_with_arg=lock_entry

[rescale_combo_3]
keys=table_num,post_functions_with_arg
table_num=2
post_functions_with_arg=lock_entry
