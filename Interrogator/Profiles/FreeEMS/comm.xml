<?xml version="1.0"?>
<comms>
	<potential_args>
		<arg>
			<name>MS2_CAN_ID</name>
			<desc>This is the CAN ID, 0-15 is valid.</desc>
			<type>_DATA_</type>
			<internal_name>canID</internal_name>
			<size>_U08_</size>
		</arg>
		<arg>
			<name>MS2_TABLE_INDEX</name>
			<desc>This is the table index in the firmware,  0-3 are lookuptables, 4-5 are data, and 6 is rtvars, these are analagous to pages from MS-I extra</desc>
			<type>_DATA_</type>
			<internal_name>phys_ecu_page</internal_name>
			<size>_U08_</size>
		</arg>
		<arg>
			<name>MS2_NUM_BYTES</name>
			<desc>Length of data to transfer (read or write), MSB format</desc>
			<type>_DATA_</type>
			<internal_name>num_bytes</internal_name>
			<size>_U16_</size>
		</arg>
		<arg>
			<name>MS1_NUM_BYTES</name>
			<desc>Length of data to transfer (read or write)</desc>
			<type>_DATA_</type>
			<internal_name>num_bytes</internal_name>
			<size>_U08_</size>
		</arg>
		<arg>
			<name>MS1_PAGE</name>
			<desc>Page inside ECU firmware</desc>
			<type>_DATA_</type>
			<internal_name>phys_ecu_page</internal_name>
			<size>_U08_</size>
		</arg>
		<arg>
			<name>MS1_OFFSET</name>
			<desc>Offset from the beginning of the page.</desc>
			<type>_DATA_</type>
			<internal_name>offset</internal_name>
			<size>_U08_</size>
		</arg>
		<arg>
			<name>MS2_OFFSET</name>
			<desc>Offset from the beginning of the table. This is in MSB format</desc>
			<type>_DATA_</type>
			<internal_name>offset</internal_name>
			<size>_U16_</size>
		</arg>
		<arg>
			<name>MS1_BYTE</name>
			<desc>byte to transfer to ECU, length is 1 byte </desc>
			<type>_DATA_</type>
			<internal_name>value</internal_name>
			<size>_U08_</size>
		</arg>
		<arg>	
			<name>DATACHUNK</name>
			<desc>Data to transfer to ECU, length is variable. Only applies to chunk write compatible firmwares </desc>
			<type>_DATA_</type>
			<internal_name>data</internal_name>
			<size>_UNDEF_</size>
		</arg>
		<arg>
			<name>PAUSE_100MS</name>
			<desc>Pause for 100ms.</desc>
			<type>_ACTION_</type>
			<action>_SLEEP_</action>
			<action_arg>100000</action_arg>
		</arg>
		<arg>
			<name>PAUSE_500MS</name>
			<desc>Pause for 500ms.</desc>
			<type>_ACTION_</type>
			<action>_SLEEP_</action>
			<action_arg>500000</action_arg>
		</arg>
		<arg>
			<name>SEND_X</name>
			<desc> Sends a simple "X"</desc>
			<type>_STATIC_STRING_</type>
			<string>X</string>
		</arg>
	</potential_args>
	<commands>
		<cmd>
			<name>interrogation</name>
			<desc>Interrogates ECU to determine what it is</desc>
			<type>_FUNC_CALL_</type>
			<func_call_name>interrogate_ecu</func_call_name>
			<defer_post_functions>FALSE</defer_post_functions>
			<post_functions>
				<function>update_interrogation_gui_pf</function>
				<function>load_realtime_map_pf</function>
				<function>initialize_dashboards_pf</function>
				<function>load_status_pf</function>
				<function>load_rt_text_pf</function>
				<function>load_gui_tabs_pf</function>
				<function>load_sliders_pf</function>
				<function>start_statuscounts_pf</function>
				<function>populate_dlog_choices_pf</function>
				<function>spawn_read_ve_const_pf</function>
				<function>reset_temps_pf</function>
				<function>startup_default_timeouts_pf</function>
				<function>ready_msg_pf</function>
			</post_functions>
		</cmd>
	</commands>
</comms>
